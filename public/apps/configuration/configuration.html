<div ng-controller="sgBaseController">
    <div class="searchguard app-container" ng-controller="searchguardConfigurationController">

        <sgc-header></sgc-header>

        <div class="row">
            <div class="col-xs-12" style="text-align: center;">

                <img class="brand-image" src="/plugins/searchguard/assets/searchguard_logo.svg" width="300">

                <h3 ng-if="accessState=='pending'" style="margin-top:0px;">Please wait ...</h3>

                <p class="error-message" ng-show="errorMessage">{{ errorMessage }}</p>
                <sg-license-warning></sg-license-warning>
            </div>
        </div>


        <div class="row" ng-if="accessState=='forbidden'">
            <div class="col-xs-12" style="text-align: center;">
                <h3>You do not have permission to access the Search Guard configuration. Please contact your System Administrator.</h3>
            </div>
        </div>

        <div class="row" ng-if="accessState=='notenabled'">
            <div class="col-xs-12" style="text-align: center;">
                <h3>The REST API module is not installed. Please contact your System Administrator.</h3>
            </div>
        </div>

        <div class="row" ng-if="accessState=='ok'">
            <div class="kuiViewContent kuiViewContent--constrainedWidth ng-scope" style="text-align: center;">

                <div class="kuiGallery kuiViewContentItem" style="text-align: center;">

                    <a ng-if="endpointAndMethodEnabled('INTERNALUSERS', 'GET')" class="kuiGalleryButton ng-scope" ng-href="#/internalusers" tooltip="Configure Internal Users"
                       tooltip-placement="bottom" href="#/internalusers">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-user fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            Internal users
                        </div>
                    </a>

                    <a ng-if="endpointAndMethodEnabled('ACTIONGROUPS', 'GET')" class="kuiGalleryButton ng-scope" ng-href="#/actiongroups" tooltip="Configure Internal Users"
                       tooltip-placement="bottom" href="#/actiongroups">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-sitemap fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            Action Groups
                        </div>
                    </a>

                    <a ng-if="endpointAndMethodEnabled('ROLESMAPPING', 'GET')" class="kuiGalleryButton ng-scope" ng-href="#/rolesmapping" tooltip="Configure Internal Users"
                       tooltip-placement="bottom" href="#/rolesmapping">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-exchange fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            Roles Mapping
                        </div>
                    </a>

                    <a ng-if="endpointAndMethodEnabled('ROLES', 'GET')" class="kuiGalleryButton ng-scope" ng-href="#/roles" tooltip="Configure Internal Users"
                       tooltip-placement="bottom" href="#/roles">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-users fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            Roles
                        </div>
                    </a>

                    <a ng-if="endpointAndMethodEnabled('SGCONFIG', 'GET')" class="kuiGalleryButton ng-scope" ng-href="#/sgconfiguration" href="#/sgconfiguration">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-lock fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            Authentication / Authorisation
                        </div>
                    </a>

                    <a ng-if="endpointAndMethodEnabled('LICENSE', 'GET')" class="kuiGalleryButton ng-scope" ng-href="#/system" tooltip="Search Guard System Info"
                       tooltip-placement="bottom">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-info fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            License & System Info
                        </div>
                    </a>


                    <a ng-if="endpointAndMethodEnabled('CACHE', 'DELETE')" class="kuiGalleryButton ng-scope" ng-click="clearCache()" tooltip="Configure Internal Users"
                       tooltip-placement="bottom">
                        <div class="kuiGalleryButton__image">
                            <span class="fa fa-refresh fa-5x"></span>
                        </div>
                        <div class="kuiGalleryButton__label" class="ng-binding">
                            Clear Cache
                        </div>
                    </a>

                </div>
            </div>
        </div>
    </div>
</div>
