<kac-authentication-section
    section="roles"
    show-editing-buttons="true"
    create-button-label="Create role"
    create-button-class="fa fa-plus"
    update-button-label="Save role"
    open-button-label="Edit role"
    delete-button-label="Delete role">
  <div class="container" id="section-editor" ng-controller="kacRolesController">

    <div ng-show="showObjectFinder">
      <h2 class="title">Roles</h2>
      <finder
        service="service"
        type="roles"
        make-url="makeFinderUrl"
      />
    </div>

    <div ng-hide="showObjectFinder">

      <div class="header" ng-if="isNew">
        <h2 class="title">Create role</h2>
      </div>
      <div class="header" ng-if="!isNew">
        <h2 class="title"><i class="fa fa-list"></i> {{ role.id }}</h2>
      </div>

      <p ng-if="isNew">
        Fill in the form, then click on the Save button to create the role.
      </p>
      <p ng-if="!isNew">
        Click on the Save button to apply changes.
      </p>

      <p class="formError" ng-show="errorMessage">{{ errorMessage }}</p>
      <form name="objectForm" id="object-form" method="post" ng-submit="saveObject($event)" novalidate>
        <div class="form-group" ng-show="isNew">
          <label for="object-form-id">Role ID</label>
          <input
            id="object-form-id"
            name="id"
            type="text"
            ng-model="role.id"
            class="form-control"
            required/>
        </div>
        <div class="form-group">
          <label for="object-form-permissions">Permissions</label>
          <a class="reference"
             href="https://github.com/floragunncom/search-guard-docs/blob/master/configuration.md#define-roles-and-the-associated-permissions"
             target="_blank">
            <i class="fa fa-globe"></i> Reference
          </a>
          <div
            id="object-form-permissions"
            name="permissionsRaw"
            ui-ace="{ onLoad: aceLoaded, mode: 'yaml' }"
            ng-model="permissions.raw"
            ng-class="{ 'red-border': objectForm.permissionsRaw.$invalid }"
            required></div>
        </div>

        <button type="submit"></button>
      </form>

    </div>

  </div>

</kac-authentication-section>
